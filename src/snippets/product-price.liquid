{% if product.compare_at_price > product.price %}
  {% if product.price_varies %}
    {%- assign sale_price = product.price | money -%}
    {%- comment -%}{{ 'products.product.on_sale_from_html' | t: price: sale_price }}{%- endcomment -%}
    {{ product.price | money }}
  {% else %}
    {%- comment -%}{{ 'products.product.on_sale' | t }}{%- endcomment -%}
    {{ product.price | money }}
  {% endif %}
{% else %}
  {% if product.price_varies %}
    {%- assign price = product.price | money -%}
    {{ 'products.product.from_text_html' | t: price: price }}
  {% else %}
    {{ product.price | money }}
  {% endif %}
{% endif %}